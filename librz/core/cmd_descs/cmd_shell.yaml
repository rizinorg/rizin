# SPDX-FileCopyrightText: 2021 RizinOrg <info@rizin.re>
# SPDX-License-Identifier: LGPL-3.0-only
---
name: cmd_shell
commands:
  - name: env
    cname: env
    summary: Get/set environment variables
    args_str: " [<varname>[=<varvalue>]]"
    args:
      - name: varname
        optional: true
        type: RZ_CMD_ARG_TYPE_ENV
      - name: varvalue
        optional: true
        type: RZ_CMD_ARG_TYPE_STRING
    details:
      - name: Examples
        entries:
          - text: "%"
            comment: List all environment variables
          - text: "%"
            arg_str: "SHELL"
            comment: Print value of SHELL variable
          - text: "%"
            arg_str: "TMPDIR=/tmp"
            comment: Set TMPDIR to "/tmp"
          - text: "env"
            arg_str: " SHELL"
            comment: Same as `%SHELL`
      - name: Environment
        entries:
          - text: "RZ_FILE"
            comment: "currently opened file name"
          - text: "RZ_OFFSET"
            comment: "current offset (64bit value)"
          - text: "RZ_BSIZE"
            comment: "block size"
          - text: "RZ_ENDIAN"
            comment: "'big' or 'little'"
          - text: "RZ_IOVA"
            comment: "is io.va true? virtual addressing (1,0)"
          - text: "RZ_DEBUG"
            comment: "debug mode enabled? (1,0)"
          - text: "RZ_SIZE"
            comment: "file size"
          - text: "RZ_ARCH"
            comment: "value of asm.arch"
          - text: "RZ_BITS"
            comment: "arch reg size (8, 16, 32, 64)"
          - text: "RZ_BIN_LANG"
            comment: "assume this lang to demangle"
          - text: "RZ_BIN_DEMANGLE"
            comment: "demangle or not"
          - text: "RZ_BIN_PDBSERVER"
            comment: "e pdb.server"
  - name: exit
    cname: cmd_exit
    summary: Exit Rizin
    args: []
  - name: ls
    cname: ls
    summary: List files and directories
    args:
      - name: arg
        type: RZ_CMD_ARG_TYPE_STRING
        flags: RZ_CMD_ARG_FLAG_ARRAY
        optional: true
  - name: rm
    cname: remove_file
    summary: Remove file
    args:
      - name: file
        type: RZ_CMD_ARG_TYPE_FILE
  - name: sleep
    cname: sleep
    summary: Sleep for the specified amount of seconds
    args:
      - name: seconds
        type: RZ_CMD_ARG_TYPE_NUM
  - name: uniq
    cname: uniq
    summary: List uniq strings in file
    args:
      - name: filename
        type: RZ_CMD_ARG_TYPE_FILE
  - name: uname
    cname: uname
    summary: Provide system info
    args:
      - name: r
        type: RZ_CMD_ARG_TYPE_STRING
        flags: RZ_CMD_ARG_FLAG_OPTION
        optional: true
