# SPDX-FileCopyrightText: 2021 RizinOrg <info@rizin.re>
# SPDX-License-Identifier: LGPL-3.0-only
---
name: cmd_open
commands:
  - name: o-
    cname: open_close
    summary: Close file descriptor
    args:
      - name: fd
        type: RZ_CMD_ARG_TYPE_NUM
  - name: o--
    cname: open_close_all
    summary: Close all files
    args: []
  - name: oL
    cname: open_plugins
    handler: plugins_io_print
    summary: List all IO plugins / Register IO plugin from <path>
    type: RZ_CMD_DESC_TYPE_ARGV_STATE
    args:
      - name: path
        type: RZ_CMD_ARG_TYPE_FILE
        optional: true
    default_mode: RZ_OUTPUT_MODE_TABLE
    modes:
      - RZ_OUTPUT_MODE_TABLE
      - RZ_OUTPUT_MODE_JSON
      - RZ_OUTPUT_MODE_QUIET
  - name: o=
    cname: open_list_ascii
    summary: List opened files in ASCII-art bars
    args: []
  - name: oa
    cname: open_arch_bits
    summary: Specify <arch> and <bits> for the file <filename> or the current one if none is specified
    args:
      - name: arch
        type: RZ_CMD_ARG_TYPE_STRING
      - name: bits
        type: RZ_CMD_ARG_TYPE_RZNUM
      - name: filename
        type: RZ_CMD_ARG_TYPE_FILE
        optional: true
