NAME=hexagon jumps
FILE=bins/elf/analysis/hexagon-hello-loop
CMDS=<<EOF
s sym.main
af
aar
afx
s 0x000050e4
pi 2
s 0x0000539c
pi 4
/ai 0xdead
/ai 0xbeef
/ai 0xfffffff8
/ai 0x1c00
EOF
EXPECT=<<EOF
c 0x00005124 -> 0x00005128 ? jump 0x5128 
c 0x00005130 -> 0x00005154 ? if (P0) jump:nt 0x5154 
c 0x00005134 -> 0x00005138 [     jump 0x5138 
C 0x00005138 -> 0x000050e0 [     call sym.pHello 
C 0x0000513c -> 0x000050f8 [     call sym.pWorld 
c 0x00005140 -> 0x00005144 [     jump 0x5144 
c 0x00005150 -> 0x00005128 ? jump 0x5128 
? immext(##0xb0c0) 
? R0 = ##0xb0d0 
? immext(##0xd180) 
? R2 = ##0xd1ac 
? immext(##0xfe105000) 
? R3 = ##-0x1efb000 
0x00000b80   # 4: ? R0.h = #0xdead 
0x00000b84   # 4: [     R0.l = #0xbeef 
0x00001e68   # 4: ? R4.l = #0xbeef 
0x0000342c   # 4: ? if (!R23) memh(P3++#-0x8) = R11.h 
0x0000342e   # 4: ? if (!R7) memw(P3++#-0x8) = R11 
0x00005128   # 4: ? R2 = memw(R30+##-0x8) 
0x00005144   # 4: ? R2 = memw(R30+##-0x8) 
0x0000514c   # 4: ? memw(R30+##-0x8) = R2 
0x0000564c   # 4: ? R2 = memw(R0+##-0x8) 
0x00005654   # 4: ? if (R17.new) P0 = add(R16,##-0x8) 
0x00005740   # 4: ? R17 = and(R2,##-0x8) 
0x00005840   # 4: ? R4 = add(R2,##-0x8) 
0x00005970   # 4: ? if (R2.new) P2 = add(R2,##-0x8) 
0x000059d0   # 4: ? R1 = and(R1,##-0x8) 
0x00006394   # 4: ? R4 = and(R4,##-0x8) 
0x000063f8   # 4: ? R4 = and(R4,##-0x8) 
0x0000641c   # 4: ? R4 = and(R4,##-0x8) 
0x00006510   # 4: ? R4 = and(R4,##-0x8) 
0x00006534   # 4: ? R4 = and(R4,##-0x8) 
0x00007134   # 4: ? R3 = mux(P0,#-0x8,#-0x8) 
0x00007b4e   # 4: ? R0 = add(R2,##-0x8) 
0x00007eae   # 4: ? R0 = add(R2,##-0x8) 
0x00007ee0   # 4: ? R17 = add(R17,##-0x8) 
0x00008484   # 4: ? R2 = add(R16,add(R2,##-0x8)) 
0x0000848c   # 4: ? R2 = add(R2,##-0x8) 
0x00008598   # 4: ? memd(R2+##-0x8) = R1:0 
0x000087b8   # 4: ? memd(R3+##-0x8) = R1:0 
0x00009b64   # 4: ? R2 = memw(R18+##-0x8) 
0x00000aac   # 4: ? immext(##0x1c00) 
0x00000ab4   # 4: ? immext(##0x1c00) 
0x00000b44   # 4: ? immext(##0x1c00) 
0x00005170   # 4: ? immext(##0x1c00) 
0x00005178   # 4: ? immext(##0x1c00) 
0x00005180   # 4: ? immext(##0x1c00) 
EOF
RUN
