NAME=rz_diff -c
FILE=-
CMDS=!rz_diff -c bins/other/rz_diff/rz_diff_c_1 bins/other/rz_diff/rz_diff_c_2
EXPECT=<<EOF
1
EOF
RUN

NAME=rz_diff -a -O x86
FILE=-
CMDS=!rz_diff -a x86 -O bins/other/rz_diff/rz_diff_c_1 bins/other/rz_diff/rz_diff_c_2
EXPECT=<<EOF
0x00000000 91 => 90 0x00000000
EOF
RUN

NAME=rz_diff -g
FILE=-
CMDS=!!rz_diff -g main -m d bins/other/rz_diff/false bins/other/rz_diff/true~digrap
EXPECT=<<EOF
digraph code {
EOF
RUN

NAME=rz_diff -v~commit?"
FILE=-
CMDS=!!rz_diff -v~commit?
EXPECT=<<EOF
1
EOF
RUN

NAME=rz_diff -h~Usage?"
FILE=-
CMDS=!!rz_diff -h~Usage?
EXPECT=<<EOF
1
EOF
RUN

NAME=rz_diff string comparison
FILE=-
CMDS=!!rz_diff -z bins/elf/elf_one_symbol_shdr bins/elf/elf_one_symbol_shdr1
EXPECT=<<EOF
0x00000000 48656c6c => 41414141 0x00000000
EOF
RUN

NAME=rz_diff unified string comparison
FILE=-
CMDS=!!rz_diff -quz bins/elf/elf_one_symbol_shdr bins/elf/elf_one_symbol_shdr1
EXPECT=<<EOF
-0x00000000:48 65 6c 6c 
+0x00000000:41 41 41 41 
EOF
RUN

NAME=rz_diff gnu unified string comparison
FILE=-
BROKEN=1
CMDS=!!rz_diff -Uz bins/elf/elf_one_symbol_shdr bins/elf/elf_one_symbol_shdr1 | tail -n 2
EXPECT=<<EOF
-Hello world!
+AAAAo world!
EOF
RUN

NAME=rz_diff -AC (elf files)
FILE=-
CMDS=!!rz_diff -AC bins/other/rz_diff/true bins/other/rz_diff/false~?\(1.000000\)
EXPECT=<<EOF
54
EOF
RUN

NAME=rz_diff -AC (mach0 fat files)
FILE=-
CMDS=!!rz_diff -AC bins/other/rz_diff/hellocxx-osx-fat-intel_1 bins/other/rz_diff/hellocxx-osx-fat-intel_2~?\(1.000000\)
EXPECT=<<EOF
17
EOF
RUN

NAME=rz_diff -B (GDIFF support) #1
FILE=-
CMDS=!!rz_diff -B bins/other/rz_diff/rz_diff_c_1 bins/other/rz_diff/rz_diff_c_2 | rz_ax -S
EXPECT=<<EOF
d1ffd1ff04019000
EOF
RUN

NAME=rz_diff empty first file
FILE=-
CMDS=!rz_diff "" bins/other/rz_diff/rz_diff_c_2
EXPECT_ERR=<<EOF
Cannot open empty path
EOF
RUN

NAME=rz_diff empty second file
FILE=-
CMDS=!rz_diff bins/other/rz_diff/rz_diff_c_1 ""
EXPECT_ERR=<<EOF
Cannot open empty path
EOF
RUN
